import { SpinBox, Button, CheckBox, Slider, LineEdit, ScrollView, ListView,
    HorizontalBox, VerticalBox, GridBox, StandardButton, StandardTableView } from "std-widgets.slint";

import { ViewFileItem } from "viewfileitem.slint";

export component AppWindow inherits Window {
    preferred-width: 800px;
    preferred-height: 600px;
    min-width: 800px;
    max-height: 600px;

    callback file-item-checked(ViewFileItem);
    callback file-item-unchecked(ViewFileItem);

    in property <[ViewFileItem]> file-items;
    in property <[[StandardListViewItem]]> table_row_data: [
        [
            { text: "Item 1.1" },
            { text: "Item 1.2" },
            { text: "Item 1.3" },
            { text: "Item 1.4" },
        ],
        [
            { text: "Item 2.1" },
            { text: "Item 2.2" },
            { text: "Item 2.3" },
            { text: "Item 2.4" },
        ],
    ];

    VerticalBox {
        ListView {
            for item in root.file-items: HorizontalLayout {
                file-item-action := CheckBox {
                    text: item.title;
                    checked: item.selected;

                    toggled => {
                        item.selected = self.checked;
                        if (self.checked) {
                            root.file-item-checked(item);
                        } else {
                            root.file-item-unchecked(item);
                        }
                    }
                }
            }
        }
    }
}
